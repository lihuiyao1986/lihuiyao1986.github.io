webpackJsonp([9],{432:function(e,n,t){"use strict";function i(e){l||t(539)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(477),r=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,function(){return o[e]})}(a);var s=t(549),u=t.n(s),l=!1,d=t(4),c=i,m=d(r.a,u.a,!1,c,null,null);m.options.__file="src/views/contractManage/commissonInput.vue",n.default=m.exports},451:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(18),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.default={login:function(e){return o.default.fetch("/user/login",e)},resetPwd:function(e){return o.default.fetch("/user/resetPwd",e)},queryAllUser:function(e){return o.default.fetch("/user/queryAllUser",e)},queryAllCommissionCal:function(e){return o.default.fetch("/config/queryAllCommissionCal",e)},updateAllCommissionCal:function(e){return o.default.fetch("/config/updateAllCommissionCal",e)},queryHouseRes:function(e){return o.default.fetch("/config/queryHouseRes",e)},updateHouseRes:function(e){return o.default.fetch("/config/updateHouseRes",e)},queryAllCompany:function(e){return o.default.fetch("/config/queryAllCompany",e)},queryAllArea:function(e){return o.default.fetch("/config/queryAllArea",e)},queryAllEmployee:function(e){return o.default.fetch("/config/queryAllEmployee",e)},updateEmployee:function(e){return o.default.fetch("/config/updateEmployee",e)},addEmployee:function(e){return o.default.fetch("/config/addEmployee",e)},addCompany:function(e){return o.default.fetch("/config/addCompany",e)},updateCompany:function(e){return o.default.fetch("/config/updateCompany",e)},addArea:function(e){return o.default.fetch("/config/addArea",e)},updateArea:function(e){return o.default.fetch("/config/updateArea",e)},queryAllShop:function(e){return o.default.fetch("/config/queryAllShop",e)},addShop:function(e){return o.default.fetch("/config/addShop",e)},updateShop:function(e){return o.default.fetch("/config/updateShop",e)},queryAllAgreement:function(e){return o.default.fetch("/business/queryAllAgreement",e)},insertAgreement:function(e){return o.default.fetch("/business/insertAgreement",e)},balanceAgreement:function(e){return o.default.fetch("/business/balanceAgreement",e)},transferAgreement:function(e){return o.default.fetch("/business/transferAgreement",e)},updateAgreement:function(e){return o.default.fetch("/business/updateAgreement",e)},queryLeaderAchieve:function(e){return o.default.fetch("/business/queryLeaderAchieve",e)},querySalemanAchieve:function(e){return o.default.fetch("/business/querySalemanAchieve",e)},queryMajordomoAchieve:function(e){return o.default.fetch("/business/queryMajordomoAchieve",e)},querySalary:function(e){return o.default.fetch("/business/querySalary",e)},updateSalary:function(e){return o.default.fetch("/business/updateSalary",e)},updateEmployeeByIds:function(e){return o.default.fetch("/config/updateEmployeeByIds",e)},queryProfit:function(e){return o.default.fetch("/business/queryProfit",e)},updateProfit:function(e){return o.default.fetch("/business/updateProfit",e)},updateShopByIds:function(e){return o.default.fetch("/config/updateShopByIds",e)},queryReceiveCommission:function(e){return o.default.fetch("/business/queryReceiveCommission",e)},queryAllReceiveCommission:function(e){return o.default.fetch("/business/queryAllReceiveCommission",e)},updateReceiveCommission:function(e){return o.default.fetch("/business/updateReceiveCommission",e)},addReceiveCommission:function(e){return o.default.fetch("/business/addReceiveCommission",e)}}},452:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={};i.info=function(e,n,t,i){e.$Notice.info({title:t||"温馨提示",desc:n,duration:i||"1.5"})},i.success=function(e,n,t,i){e.$Notice.success({title:t||"成功提示",desc:n,duration:i||"1.5"})},i.warning=function(e,n,t,i){e.$Notice.warning({title:t||"警告提示",desc:n,duration:i||"1.5"})},i.error=function(e,n,t,i){e.$Notice.error({title:t||"错误提示",desc:n,duration:i||"1.5"})},i.confirm=function(e,n,t,i,o,r){e.$Modal.confirm({title:t,loading:n,content:i,onOk:function(){o&&o()},onCancel:function(){r&&r()}})},n.default=i},477:function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=t(541),r=i(o),a=t(545),s=i(a),u=t(452),l=i(u),d=t(451),c=i(d);n.default={name:"commissionInput",components:{CommissionAdd:r.default,CommissionModify:s.default},computed:{showAddBtn:function(){return"0"==this.$route.query.type}},mounted:function(){this.queryAllReceiveCommission()},watch:{$route:"init"},methods:{refresh:function(){this.queryAllReceiveCommission()},queryAllReceiveCommission:function(){var e=this;this.loading=!0,c.default.queryAllReceiveCommission({agreementId:this.$route.query.agreementId}).then(function(n){e.datalist=n.result,e.loading=!1}).catch(function(n){e.loading=!1,l.default.error(e,n.message+"["+n.responseCode+"]")})},add:function(){this.addParams={agreementId:this.$route.query.agreementId},this.showAddWin=!0},sureAdd:function(e){this.showAddWin=!1,this.queryAllReceiveCommission()},cancelAddWin:function(){this.showAddWin=!1},doModify:function(e){e.row.agreementId=this.$route.query.agreementId,this.modifyParams=e.row,this.showModifyWin=!0},sureModify:function(e){this.showModifyWin=!1,this.queryAllReceiveCommission()},cancelModifyWin:function(){this.showModifyWin=!1},close:function(){this.$store.commit("removeTag","add_contract"),this.$router.push({name:"contractManage_index"})},delete:function(e){var n=this;l.default.confirm(this,!0,"删除提示","您确定需要删除该条记录吗？",function(){c.default.updateReceiveCommission({id:e.row.id,agreementId:n.$route.query.agreementId,commissionNum:e.row.commissionNum,receiveEmp:e.row.receiveEmp,state:"0"}).then(function(e){n.$Modal.remove(),l.default.success(n,"该条记录删除成功"),n.queryAllReceiveCommission()}).catch(function(e){n.$Modal.remove(),l.default.error(n,e.message+"["+e.responseCode+"]")})})}},data:function(){var e=this;return{stripeTable:!0,loading:!1,showAddWin:!1,showModifyWin:!1,modifyParams:{},addParams:{},datalist:[],columns:[{title:"ID",key:"id"},{title:"合同ID",key:"agreementId"},{title:"佣金",key:"commissionNum"},{title:"收款人",key:"receiveEmp"},{title:"时间",key:"updateTime"},{title:"操作",key:"action",align:"center",width:140,render:function(n,t){return n("div",[n("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.doModify(t)}}},"修改"),n("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.delete(t)}}},"删除")])}}]}}}},478:function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=t(452),r=i(o),a=t(451),s=i(a);n.default={name:"commissionAdd",methods:{cancel:function(){this.$emit("cancel")},sure:function(){this.addCommission()},clearForm:function(){this.queryForm.commissionNum="",this.queryForm.receiveEmp="",this.handleReset("queryForm")},fillData:function(){},addCommission:function(){var e=this,n=parseFloat(this.queryForm.commissionNum||"0.00").toFixed(2);if(isNaN(n)||n<=0)return r.default.error(this,"请输入正确的佣金"),!1;this.$refs.queryForm.validate(function(n){n&&(e.modal_loading=!0,s.default.addReceiveCommission({agreementId:e.params.agreementId,commissionNum:e.queryForm.commissionNum,receiveEmp:e.queryForm.receiveEmp}).then(function(n){e.modal_loading=!1,r.default.success(e,"佣金录入成功"),e.$emit("sure",e.queryForm),e.handleReset("queryForm")}).catch(function(n){e.modal_loading=!1,r.default.error(e,n.message+"["+n.responseCode+"]")}))})},handleReset:function(e){this.$refs[e].resetFields()}},data:function(){return{showWin:!1,isEditing:!1,modal_loading:!1,queryForm:{commissionNum:"",receiveEmp:""},rules:{commissionNum:[{required:!0,message:"请输入佣金",trigger:"blur"}],receiveEmp:[{required:!0,message:"请输入收款人",trigger:"blur"}]}}},props:{show:{default:!1},params:Object},watch:{show:function(e){this.showWin=e,e&&(this.clearForm(),this.fillData())}}}},479:function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=t(452),r=i(o),a=t(451),s=i(a);n.default={name:"commissionModify",methods:{cancel:function(){this.$emit("cancel")},sure:function(){this.modifyCommission()},clearForm:function(){this.queryForm.commissionNum="",this.queryForm.receiveEmp="",this.handleReset("queryForm")},fillData:function(){this.queryForm.commissionNum=this.params.commissionNum,this.queryForm.receiveEmp=this.params.receiveEmp},modifyCommission:function(){var e=this,n=parseFloat(this.queryForm.commissionNum||"0.00").toFixed(2);return isNaN(n)||n<=0?(r.default.error(this,"请输入正确的佣金"),!1):this.queryForm.receiveEmp.length<=0?(r.default.error(this,"请输入收款人"),!1):(this.modal_loading=!0,void s.default.updateReceiveCommission({id:this.params.id,agreementId:this.params.agreementId,commissionNum:this.queryForm.commissionNum,receiveEmp:this.queryForm.receiveEmp}).then(function(n){e.modal_loading=!1,r.default.success(e,"佣金修改成功"),e.$emit("sure",e.queryForm),e.handleReset("queryForm")}).catch(function(n){e.modal_loading=!1,r.default.error(e,n.message+"["+n.responseCode+"]")}))},handleReset:function(e){this.$refs[e].resetFields()}},data:function(){return{showWin:!1,isEditing:!1,modal_loading:!1,queryForm:{commissionNum:"",receiveEmp:""},rules:{commissionNum:[{required:!0,message:"请输入佣金",trigger:"blur"}],receiveEmp:[{required:!0,message:"请输入收款人",trigger:"blur"}]}}},props:{show:{default:!1},params:Object},watch:{show:function(e){this.showWin=e,e&&(this.clearForm(),this.fillData())}}}},539:function(e,n,t){var i=t(540);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(24)("29cfd372",i,!1)},540:function(e,n,t){n=e.exports=t(23)(!1),n.push([e.i,"\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.page-component {\n  margin-top: 15px;\n}\n.operate-btns {\n  margin: 0px 0px 10px 0px;\n}\n",""])},541:function(e,n,t){"use strict";function i(e){l||t(542)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(478),r=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,function(){return o[e]})}(a);var s=t(544),u=t.n(s),l=!1,d=t(4),c=i,m=d(r.a,u.a,!1,c,null,null);m.options.__file="src/views/contractManage/commissionAdd.vue",n.default=m.exports},542:function(e,n,t){var i=t(543);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(24)("44b0097c",i,!1)},543:function(e,n,t){n=e.exports=t(23)(!1),n.push([e.i,"\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.page-component {\n  margin-top: 15px;\n}\n.operate-btns {\n  margin: 0px 0px 10px 0px;\n}\n",""])},544:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"queryContract"},[t("Modal",{attrs:{title:"佣金录入",closable:!1,width:"400px","mask-closable":!1},model:{value:e.showWin,callback:function(n){e.showWin=n},expression:"showWin"}},[t("Form",{ref:"queryForm",attrs:{model:e.queryForm,rules:e.rules,"label-width":90,"label-position":"left"}},[t("Row",[t("Col",{attrs:{span:"24"}},[t("FormItem",{attrs:{label:"佣金：",prop:"commissionNum"}},[t("div",{staticStyle:{display:"inline-block",width:"150px"}},[t("Input",{attrs:{placeholder:"请输入佣金"},model:{value:e.queryForm.commissionNum,callback:function(n){e.$set(e.queryForm,"commissionNum",n)},expression:"queryForm.commissionNum"}})],1)])],1)],1),e._v(" "),t("Row",[t("Col",{attrs:{span:"24"}},[t("FormItem",{attrs:{label:"收款人：",prop:"receiveEmp"}},[t("div",{staticStyle:{display:"inline-block",width:"150px"}},[t("Input",{attrs:{placeholder:"请输入收款人"},model:{value:e.queryForm.receiveEmp,callback:function(n){e.$set(e.queryForm,"receiveEmp",n)},expression:"queryForm.receiveEmp"}})],1)])],1)],1)],1),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"goast"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),t("Button",{attrs:{type:"primary",loading:e.modal_loading},on:{click:e.sure}},[e._v("确定")])],1)],1)],1)},o=[];i._withStripped=!0;var r={render:i,staticRenderFns:o};n.default=r},545:function(e,n,t){"use strict";function i(e){l||t(546)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(479),r=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,function(){return o[e]})}(a);var s=t(548),u=t.n(s),l=!1,d=t(4),c=i,m=d(r.a,u.a,!1,c,null,null);m.options.__file="src/views/contractManage/commissionModify.vue",n.default=m.exports},546:function(e,n,t){var i=t(547);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(24)("01c3f637",i,!1)},547:function(e,n,t){n=e.exports=t(23)(!1),n.push([e.i,"\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.page-component {\n  margin-top: 15px;\n}\n.operate-btns {\n  margin: 0px 0px 10px 0px;\n}\n",""])},548:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"queryContract"},[t("Modal",{attrs:{title:"佣金录入",closable:!1,width:"400px","mask-closable":!1},model:{value:e.showWin,callback:function(n){e.showWin=n},expression:"showWin"}},[t("Form",{ref:"queryForm",attrs:{model:e.queryForm,"label-width":90,"label-position":"left"}},[t("Row",[t("Col",{attrs:{span:"24"}},[t("FormItem",{attrs:{label:"佣金：",prop:"commissionNum"}},[t("div",{staticStyle:{display:"inline-block",width:"150px"}},[t("Input",{attrs:{placeholder:"请输入佣金"},model:{value:e.queryForm.commissionNum,callback:function(n){e.$set(e.queryForm,"commissionNum",n)},expression:"queryForm.commissionNum"}})],1)])],1)],1),e._v(" "),t("Row",[t("Col",{attrs:{span:"24"}},[t("FormItem",{attrs:{label:"收款人：",prop:"receiveEmp"}},[t("div",{staticStyle:{display:"inline-block",width:"150px"}},[t("Input",{attrs:{placeholder:"请输入收款人"},model:{value:e.queryForm.receiveEmp,callback:function(n){e.$set(e.queryForm,"receiveEmp",n)},expression:"queryForm.receiveEmp"}})],1)])],1)],1)],1),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"goast"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),t("Button",{attrs:{type:"primary",loading:e.modal_loading},on:{click:e.sure}},[e._v("确定")])],1)],1)],1)},o=[];i._withStripped=!0;var r={render:i,staticRenderFns:o};n.default=r},549:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"commissionInput"},[t("Card",[t("p",{attrs:{slot:"title"},slot:"title"},[t("Icon",{attrs:{type:"person"}}),e._v("\n      佣金录入\n    ")],1),e._v(" "),t("Row",{staticClass:"operate-btns"},[e.showAddBtn?t("Button",{attrs:{type:"primary",icon:"android-add"},on:{click:e.add}},[e._v("录入佣金")]):e._e(),e._v(" "),t("Button",{attrs:{type:"primary",icon:"refresh"},on:{click:e.refresh}},[e._v("刷新")]),e._v(" "),t("Button",{attrs:{type:"primary",icon:"refresh"},on:{click:e.close}},[e._v("关闭")])],1),e._v(" "),t("Table",{ref:"selection",attrs:{height:400,loading:e.loading,stripe:e.stripeTable,width:"100%",border:"",columns:e.columns,data:e.datalist}})],1),e._v(" "),t("CommissionAdd",{attrs:{show:e.showAddWin,params:e.addParams},on:{cancel:e.cancelAddWin,sure:e.sureAdd}}),e._v(" "),t("CommissionModify",{attrs:{show:e.showModifyWin,params:e.modifyParams},on:{cancel:e.cancelModifyWin,sure:e.sureModify}})],1)},o=[];i._withStripped=!0;var r={render:i,staticRenderFns:o};n.default=r}});